{"version":3,"file":"commonHelpers.js","sources":["../src/main.js"],"sourcesContent":["import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nconst input = document.querySelector('.search-input');\nconst btn = document.querySelector('.search-btn');\nconst gallery = document.querySelector('.gallery');\nconst request = {\n  key: '41300766-2a2685b0426849001fa971f21',\n  q: '',\n  image_type: 'photo',\n  orientation: 'horizontal',\n  safesearch: true,\n};\nconst options = {\n  overlayOpacity: 0.8,\n  captionsData: 'alt',\n  captionDelay: 250,\n};\nlet URL = `https://pixabay.com/api/?`;\n\nconst getImagesFromAPI = url => {\n  fetch(url)\n    .then(response => {\n      if (!response.ok) throw new Error(response.status);\n      return response.json();\n    })\n    .then(response => {\n      if (!response.hits[0]) {\n        iziToast.error({\n          message:\n            'Sorry, there are no images matching your search query. Please try again!',\n          backgroundColor: '#EF4040',\n          messageColor: '#FAFAFB',\n          position: 'topRight',\n          iconUrl: './img/bi_x-octagon.svg',\n          iconColor: '#ffffff',\n          maxWidth: 432,\n          messageSize: 16,\n        });\n\n        gallery.innerHTML = '';\n        return;\n      }\n\n      renderMarkup(response);\n    })\n    .catch(error => {\n      console.log(error);\n    });\n};\n\nbtn.addEventListener('click', event => {\n  event.preventDefault();\n  gallery.innerHTML = `<span class=\"loader\"></span>`;\n\n  request.q = input.value;\n  URL += new URLSearchParams(request);\n  input.value = '';\n  getImagesFromAPI(URL);\n});\n\nconst renderMarkup = data => {\n  let markup = data.hits\n    .map(\n      ({\n        webformatURL,\n        largeImageURL,\n        tags,\n        likes,\n        views,\n        comments,\n        downloads,\n      }) => {\n        return `<li class=\"gallery-item\">\n        <a class=\"gallery-link\" href=${largeImageURL}>\n          <img class=\"gallery-image\" src=${webformatURL} data-source=${largeImageURL} alt=\"${tags}\" width=\"360\" height=\"200\"/>\n          <ul class=\"image-stats\">\n            <li class=\"stats-item\"><h3 class=\"stat-title\">Likes</h3><p class=\"stat-value\">${likes}</p></li>\n            <li class=\"stats-item\"><h3 class=\"stat-title\">Views</h3><p class=\"stat-value\">${views}</p></li>\n            <li class=\"stats-item\"><h3 class=\"stat-title\">Comments</h3><p class=\"stat-value\">${comments}</p></li>\n            <li class=\"stats-item\"><h3 class=\"stat-title\">Downloads</h3><p class=\"stat-value\">${downloads}</p></li>\n          </ul>  \n          </a>\n        </li>`;\n      }\n    )\n    .join('');\n\n  gallery.innerHTML = markup;\n};\n\nnew SimpleLightbox('.gallery a', options);\n"],"names":["input","btn","gallery","request","options","URL","getImagesFromAPI","url","response","iziToast","renderMarkup","error","event","data","markup","webformatURL","largeImageURL","tags","likes","views","comments","downloads","SimpleLightbox"],"mappings":"6vBAKA,MAAMA,EAAQ,SAAS,cAAc,eAAe,EAC9CC,EAAM,SAAS,cAAc,aAAa,EAC1CC,EAAU,SAAS,cAAc,UAAU,EAC3CC,EAAU,CACd,IAAK,qCACL,EAAG,GACH,WAAY,QACZ,YAAa,aACb,WAAY,EACd,EACMC,EAAU,CACd,eAAgB,GAChB,aAAc,MACd,aAAc,GAChB,EACA,IAAIC,EAAM,4BAEV,MAAMC,EAAmBC,GAAO,CAC9B,MAAMA,CAAG,EACN,KAAKC,GAAY,CAChB,GAAI,CAACA,EAAS,GAAI,MAAM,IAAI,MAAMA,EAAS,MAAM,EACjD,OAAOA,EAAS,MACtB,CAAK,EACA,KAAKA,GAAY,CAChB,GAAI,CAACA,EAAS,KAAK,GAAI,CACrBC,EAAS,MAAM,CACb,QACE,2EACF,gBAAiB,UACjB,aAAc,UACd,SAAU,WACV,QAAS,yBACT,UAAW,UACX,SAAU,IACV,YAAa,EACvB,CAAS,EAEDP,EAAQ,UAAY,GACpB,MACD,CAEDQ,EAAaF,CAAQ,CAC3B,CAAK,EACA,MAAMG,GAAS,CACd,QAAQ,IAAIA,CAAK,CACvB,CAAK,CACL,EAEAV,EAAI,iBAAiB,QAASW,GAAS,CACrCA,EAAM,eAAc,EACpBV,EAAQ,UAAY,+BAEpBC,EAAQ,EAAIH,EAAM,MAClBK,GAAO,IAAI,gBAAgBF,CAAO,EAClCH,EAAM,MAAQ,GACdM,EAAiBD,CAAG,CACtB,CAAC,EAED,MAAMK,EAAeG,GAAQ,CAC3B,IAAIC,EAASD,EAAK,KACf,IACC,CAAC,CACC,aAAAE,EACA,cAAAC,EACA,KAAAC,EACA,MAAAC,EACA,MAAAC,EACA,SAAAC,EACA,UAAAC,CACR,IACe;AAAA,uCACwBL;AAAA,2CACID,iBAA4BC,UAAsBC;AAAA;AAAA,4FAEDC;AAAA,4FACAC;AAAA,+FACGC;AAAA,gGACCC;AAAA;AAAA;AAAA,cAK3F,EACA,KAAK,EAAE,EAEVnB,EAAQ,UAAYY,CACtB,EAEA,IAAIQ,EAAe,aAAclB,CAAO"}